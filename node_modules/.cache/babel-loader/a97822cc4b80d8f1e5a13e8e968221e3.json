{"ast":null,"code":"import _slicedToArray from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Loader from'react-loader-spinner';// import TikcetListNav from './TicketListNav';\nimport arrow from'../images/arrow.png';import globe from'../images/globe.png';import clock from'../images/stopwatch.png';import orangeChat from'../images/message.png';import{Link}from'react-router-dom';import orangeReply from'../images/orange-reply.png';import{fireEvent}from'@testing-library/react';import FeedBackView from'./feedBackView';var TicketView=function TicketView(payload){var _useState=useState('id_conversation'),_useState2=_slicedToArray(_useState,2),display=_useState2[0],isVisible=_useState2[1];var _useState3=useState('no'),_useState4=_slicedToArray(_useState3,2),ticketStatusPopup=_useState4[0],shouldDisplay=_useState4[1];var ticketData=payload.ticketData,ticketReplies=payload.ticketReplies,changeSelectValue=payload.changeSelectValue,changeStatusValue=payload.changeStatusValue,resolutionChangeHandler=payload.resolutionChangeHandler,resolutionSubmitHandler=payload.resolutionSubmitHandler,statusHandler=payload.statusHandler,resolutionText=payload.resolutionText,allAdminUsers=payload.allAdminUsers,ticketJourney=payload.ticketJourney,replyChangeHandler=payload.replyChangeHandler,replySubmitHandler=payload.replySubmitHandler,allStatus=payload.allStatus,isLoading=payload.isLoading,statusChangeLoading=payload.statusChangeLoading,listingData=payload.listingData,updateTicketData=payload.updateTicketData,fileSelect=payload.fileSelect,downloadFile=payload.downloadFile;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),displayreplybox=_useState6[0],showreplybox=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),displaycommentbox=_useState8[0],showcommentbox=_useState8[1];var creationTime=new Date(ticketData.creationTime);var dueOn=new Date(ticketData.dueOn);var month=new Array();month[0]=\"January\";month[1]=\"February\";month[2]=\"March\";month[3]=\"April\";month[4]=\"May\";month[5]=\"June\";month[6]=\"July\";month[7]=\"August\";month[8]=\"September\";month[9]=\"October\";month[10]=\"November\";month[11]=\"December\";var creationMonth=month[creationTime.getMonth()];var dueOnMonth=month[dueOn.getMonth()];var selectMapper=function selectMapper(mapValues){mapValues.map(function(option){return React.createElement(\"option\",{key:option.departmentId,value:option.emailId},option.name);});};var switchChanges=function switchChanges(status){switch(status){case\"ASSIGNED\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"assigned-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Ticket Assigned to \",ticketData.assignedTo,\" \"));case\"RAISED\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"raised-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Ticket Raised\"));case\"RESOLVING\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"resolving-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Someone is working on resolution of your ticket \"));case\"AWAITING\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"awaiting-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Awaiting for your response\"));case\"REVIEW\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"review-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Ticket is under Review\"));case\"ESCALATED\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"escalated-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Ticket has escalated\"));case\"CLOSED\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"closed-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Ticket Closed\"));case\"REOPENED\":return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"re-opened-icon-wrapper\"}),React.createElement(\"div\",{className:\"change-text-wrapper\"},\"Ticket Re-opened\"));default:console.log(\"nothing here\");}};var showhidereplybox=function showhidereplybox(){return showreplybox(!displayreplybox);};var showhidecommentbox=function showhidecommentbox(){return showcommentbox(!displaycommentbox);};var assignedFinder=function assignedFinder(assignedPerson){switch(assignedPerson){case\"admin default person\":return\"admin@xebia.com\";case\"finance default person\":return\"finance@xebia.com\";case\"hr default person\":return\"hr@xebia.com\";default:return\"none@xebia.com\";}};return React.createElement(React.Fragment,null,isLoading?React.createElement(\"div\",{className:\"ticket-details-loader-wrapper\"},React.createElement(\"div\",{className:\"loader-icon\"},React.createElement(Loader,{type:\"Oval\",color:\"#9D92B2\",height:100,width:100,timeout:7000}),\" \")):React.createElement(\"div\",{className:\"TicketDetails-container\"},statusChangeLoading?React.createElement(\"div\",{className:\"status-loader-wrapper\"},React.createElement(\"div\",{className:\"status-loader-icon-wrapper\"},React.createElement(Loader,{type:\"Oval\",color:\"#9D92B2\",height:100,width:100,timeout:7000}))):null,ticketStatusPopup==='yes'?React.createElement(\"div\",{className:\"popup-background-wrapper\"},React.createElement(FeedBackView,{shouldDisplay:shouldDisplay})):null,React.createElement(\"div\",{className:\"ticket-details-nav-wrapper\"}),React.createElement(\"div\",{className:\"ticket-details-bottom-container\"},React.createElement(\"div\",{className:\"all-tickets-wrapper\"},React.createElement(\"div\",{className:\"header-wrapper\"},React.createElement(\"div\",{className:\"back-arrow-wrapper\"},React.createElement(\"img\",{src:arrow,alt:\"back arrow here\"})),React.createElement(\"div\",{className:\"all-tickets-header-text-wrapper\"},\"All Tickets\")),React.createElement(\"div\",{className:\"ticket-snapshot-wrapper\"},React.createElement(\"div\",{className:\"ticket-snapshot-left-border\"}),React.createElement(\"div\",{className:\"snapshot-heading-wrapper\"},React.createElement(\"i\",{className:\"fa fa-globe\"},React.createElement(\"span\",{className:\"date-text\"},creationTime.getDay()+' '+creationMonth)),React.createElement(\"span\",null,ticketData.displayName)),React.createElement(\"div\",{className:\"ticket-snapshot-information-wrapper\"},React.createElement(\"p\",null,\" #\",ticketData.id,\"  \",ticketData.subject))),listingData.map(function(ticket){var dueOn=new Date(ticket.creationTime);return ticket.id===ticketData.id?null:React.createElement(Link,{key:ticket.id,to:'/ticketlist/'+ticket.id},React.createElement(\"div\",{className:\"ticket-snapshot-wrapper\",key:ticket.id,onClick:function onClick(){return updateTicketData(ticket.id);}},React.createElement(\"div\",{className:\"snapshot-heading-wrapper\"},React.createElement(\"i\",{className:\"fa fa-globe\"},React.createElement(\"span\",{className:\"date-text\"},dueOn.getDate()+'/'+(dueOn.getMonth()+1))),React.createElement(\"span\",null,ticket.displayName)),React.createElement(\"div\",{className:\"ticket-snapshot-information-wrapper\"},React.createElement(\"p\",null,\" #\",ticket.id,\"  \",ticket.subject))));})),React.createElement(\"div\",{className:\"ticket-brief-wrapper\"},React.createElement(\"div\",{className:\"ticket-brief-heading-wrapper\"},React.createElement(\"div\",{className:\"ticket-brief-heading-horizontal-line-wrapper\"}),React.createElement(\"h3\",null,\" \",ticketData.displayName,\" \",React.createElement(\"i\",{className:\"fa fa-globe\"})),React.createElement(\"span\",null,ticketData.emailId)),React.createElement(\"div\",{className:\"ticket-brief-information-wrapper\"},React.createElement(\"div\",{className:\"assigned-officer-wrapper\"},React.createElement(\"span\",null,\"Assigned To\"),React.createElement(\"div\",{className:\"profile-wrapper\"},React.createElement(\"select\",{value:assignedFinder(ticketData.assignedTo),onChange:function onChange(e){changeSelectValue(e.target.value,ticketData.status);}},allAdminUsers?allAdminUsers.map(function(admin){return admin.emailId===\"rajat.sharma@xebia.com\"?null:React.createElement(\"option\",{key:admin.emailId,value:admin.emailId},admin.name);}):null))),React.createElement(\"div\",{className:\"status-wrapper\"},React.createElement(\"span\",null,\"Status\"),React.createElement(\"select\",{className:\"ticket-brief-status-select\",value:ticketData.status,onChange:function onChange(e){changeStatusValue(e.target.value);}},allStatus?allStatus.map(function(status){return status.id===6||status.id===2?null:React.createElement(\"option\",{key:status.id,value:status.status},status.status);}):null)),React.createElement(\"div\",{className:\"closed-time-wrapper\"},React.createElement(\"span\",null,\"Closed Time\"),React.createElement(\"span\",{className:\"date-time-wrapper\"},console.log(dueOn.getDate()),\" \",dueOn.getUTCDate()+' '+dueOnMonth)),React.createElement(\"div\",{className:\"ticket-information-heading-wrapper\"},React.createElement(\"h4\",null,\" Ticket Information\")),React.createElement(\"div\",{className:\"ticket-brief-location-wrapper\"},React.createElement(\"span\",{className:\"red-text\"},\"Location\"),React.createElement(\"span\",{className:\"city-text\"},ticketData.location)),React.createElement(\"div\",{className:\"ticket-brief-phone-wrapper\"},React.createElement(\"span\",null,\"Phone\"),React.createElement(\"span\",{className:\"phone-text\"},\"Phone No.\")),React.createElement(\"div\",{className:\"ticket-brief-department-wrapper\"},React.createElement(\"span\",{className:\"red-text\"},\"Department\"),React.createElement(\"span\",null,ticketData.department)),React.createElement(\"div\",{className:\"ticket-brief-sub-issue-wrapper\"},React.createElement(\"span\",{className:\"red-text\"},\"Sub Issue\"),React.createElement(\"span\",null,ticketData.subIssue)),React.createElement(\"div\",{className:\"ticket-brief-classifications-wrapper\"},React.createElement(\"span\",null,\"Classifications\"),React.createElement(\"span\",null,ticketData.classification)),React.createElement(\"div\",{className:\"ticket-brief-priority-wrapper\"},React.createElement(\"span\",null,\"Priority\"),React.createElement(\"span\",null,ticketData.subIssue)),React.createElement(\"div\",{className:\"ticket-brief-product-name-wrapper\"},React.createElement(\"span\",null,\"Product Name\")))),React.createElement(\"div\",{className:\"selected-ticket-details-wrapper\"},React.createElement(\"div\",{className:\"selected-ticket-header-wrapper\"},React.createElement(\"div\",{className:\"web-icon-wrapper\"},React.createElement(\"img\",{src:globe,alt:\"nothing much here\",width:\"30px\",height:\"30px\"})),React.createElement(\"div\",{className:\"selected-ticket-heading-wrapper\"},React.createElement(\"div\",{className:\"id-and-subject-wrapper\"},React.createElement(\"div\",{className:\"subject-left-side-wrapper\"},React.createElement(\"p\",null,'#'+ticketData.id,\" \",ticketData.subject)),React.createElement(\"div\",{className:\"subject-right-side-wrapper\"},React.createElement(\"img\",{className:\"reply-image\",src:orangeReply,title:\"Reply\",alt:\"nothing here\",width:\"30px\",height:\"30px\",tooltip:\"hey\",onClick:function onClick(){showhidereplybox();showcommentbox(false);}}),React.createElement(\"img\",{className:\"chat-image\",src:orangeChat,title:\"Comment\",alt:\"nothing here\",width:\"30px\",height:\"30px\",onClick:function onClick(){showhidecommentbox();showreplybox(false);}}))),React.createElement(\"div\",{className:\"time-wrapper\"},React.createElement(\"img\",{src:clock,alt:\"clock icon here\",width:\"15px\",height:\"15px\"}),React.createElement(\"p\",null,dueOn.getDate()+' '+creationMonth)))),React.createElement(\"div\",{className:\"ticket-details-sub-nav-wrapper\"},React.createElement(\"div\",{className:\"conversation-wrapper\",onClick:function onClick(){return isVisible('id_conversation');},style:display==='id_conversation'?{color:\"#06A99C\",fontSize:\"11px\",fontWeight:\"bolder\"}:null},\" Conversation\"),React.createElement(\"div\",{className:\"resolution-nav-wrapper\",onClick:function onClick(){return isVisible('id_resolution');},style:display==='id_resolution'?{color:'#06A99C',fontSize:\"11px\",fontWeight:\"bolder\"}:null},\"resolution\"),React.createElement(\"div\",{className:\"attachment-wrapper\",onClick:function onClick(){return isVisible('id_attachment');}},\" attachment\"),React.createElement(\"div\",{className:\"approval-wrapper\"},\"approval\"),React.createElement(\"div\",{className:\"history-wrapper\",onClick:function onClick(){return isVisible('id_history');},style:display==='id_history'?{color:'#06A99C',fontSize:\"11px\",fontWeight:\"bolder\"}:null},\" history\")),display==='id_conversation'?React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"total-ticket-details-wrapper\"},displayreplybox===true?React.createElement(React.Fragment,null,React.createElement(\"form\",{id:\"reply-form\",onSubmit:function onSubmit(e){e.preventDefault();replySubmitHandler(\"reply\");showreplybox();}},React.createElement(\"div\",{className:\"comment-box-wrapper\"},React.createElement(\"textarea\",{form:\"reply-form\",id:\"reply\",onChange:function onChange(e){replyChangeHandler(e.target.value);},cols:\"82\",rows:\"8\",placeholder:\"Please add a reply.Note: This will send an email to the user who raised the ticket\"}),React.createElement(\"input\",{type:\"file\",multiple:true,onChange:function onChange(e){return fileSelect(e);}})),React.createElement(\"div\",{class:\"buttons-wrapper\"},React.createElement(\"input\",{type:\"submit\",value:\"Send\"}),React.createElement(\"button\",{id:\"cancel-reply\",onClick:showreplybox},\"Cancel\")))):null,displaycommentbox===true?React.createElement(React.Fragment,null,React.createElement(\"form\",{id:\"comment-form\",onSubmit:function onSubmit(e){e.preventDefault();replySubmitHandler(\"comment\");showreplybox();}},React.createElement(\"div\",{class:\"comment-box-wrapper\"},React.createElement(\"textarea\",{form:\"comment-form\",id:\"reply\",onChange:function onChange(e){replyChangeHandler(e.target.value);},cols:\"82\",rows:\"8\",placeholder:\"Please add a comment.Note: This will NOT send an email to the user who raised the ticket\"})),React.createElement(\"div\",{class:\"buttons-wrapper\"},React.createElement(\"input\",{type:\"submit\",value:\"Send\"}),React.createElement(\"button\",{id:\"cancel-reply\",onClick:showcommentbox},\"Cancel\")))):null,React.createElement(\"div\",{className:\"name-wrapper\"},React.createElement(\"p\",{className:\"username-wrapper\"},ticketData.emailId,\" \",React.createElement(\"span\",{className:\"details-date-wrapper\"},creationTime.getDay()+' '+creationMonth,\" \")),\" \",React.createElement(\"br\",null),React.createElement(\"p\",{className:\"ticket-description\"},ticketData.description)),React.createElement(\"div\",{className:\"ticket-replies-wrapper\"},ticketReplies?ticketReplies.map(function(reply){var replyCreatedOn=new Date(reply.createdOn);return React.createElement(\"div\",{className:\"individual-reply-wrapper\",key:reply.id},React.createElement(\"div\",{className:\"reply-heading-wrapper\"},React.createElement(\"div\",{className:\"profile-wrapper\"}),React.createElement(\"span\",{className:\"reply-createdOn-wrapper\"},\" \",replyCreatedOn.getHours(),\" : \",replyCreatedOn.getMinutes(),\" ,\",replyCreatedOn.getDate(),\" \")),React.createElement(\"div\",{className:\"reply-text-wrapper\"},reply.text));}):React.createElement(\"p\",null,\" NO activity here yet\")))):null,display==='id_resolution'?ticketData.resolution?React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"resolution-text\"},ticketData.resolution)):React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"resolution-wrapper\"},React.createElement(\"form\",{id:\"resolution-form\",onSubmit:resolutionSubmitHandler},React.createElement(\"textarea\",{form:\"resolution-form\",rows:\"7\",cols:\"88\",placeholder:\"Enter the resolution here...\",onChange:function onChange(e){resolutionChangeHandler(e.target.value);}}),React.createElement(\"input\",{type:\"submit\",onClick:function onClick(){return resolutionText?shouldDisplay('yes'):null;},value:\"Send\"})))):null,display==='id_history'?ticketJourney?React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"history-container\"},ticketJourney.map(function(change){return React.createElement(\"div\",{className:\"individual-change-wrapper\",key:change.id},React.createElement(\"div\",{className:\"top-right-corner-dot\"}),switchChanges(change.status),React.createElement(\"div\",{className:\"change-connector\"}));}))):React.createElement(\"p\",null,\" NO history of the ticket found\"):null,display==='id_attachment'?React.createElement(\"a\",{href:\"/home/ec2-user/helpdesk_deploy/UPLOAD/3/Screenshot from 2020-05-22 12-06-33.jpg_1590465234624\",download:true},\"Download\"):null))));};export default TicketView;","map":{"version":3,"sources":["/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/src/Views/TikcetView.jsx"],"names":["React","useState","Loader","arrow","globe","clock","orangeChat","Link","orangeReply","fireEvent","FeedBackView","TicketView","payload","display","isVisible","ticketStatusPopup","shouldDisplay","ticketData","ticketReplies","changeSelectValue","changeStatusValue","resolutionChangeHandler","resolutionSubmitHandler","statusHandler","resolutionText","allAdminUsers","ticketJourney","replyChangeHandler","replySubmitHandler","allStatus","isLoading","statusChangeLoading","listingData","updateTicketData","fileSelect","downloadFile","displayreplybox","showreplybox","displaycommentbox","showcommentbox","creationTime","Date","dueOn","month","Array","creationMonth","getMonth","dueOnMonth","selectMapper","mapValues","map","option","departmentId","emailId","name","switchChanges","status","assignedTo","console","log","showhidereplybox","showhidecommentbox","assignedFinder","assignedPerson","getDay","displayName","id","subject","ticket","getDate","e","target","value","admin","getUTCDate","location","department","subIssue","classification","color","fontSize","fontWeight","preventDefault","description","reply","replyCreatedOn","createdOn","getHours","getMinutes","text","resolution","change"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,SAAT,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAa,eACCX,QAAQ,CAAC,iBAAD,CADT,wCACrBY,OADqB,eACZC,SADY,8BAEeb,QAAQ,CAAC,IAAD,CAFvB,yCAErBc,iBAFqB,eAEFC,aAFE,kBAGpBC,CAAAA,UAHoB,CAG2SL,OAH3S,CAGpBK,UAHoB,CAGRC,aAHQ,CAG2SN,OAH3S,CAGRM,aAHQ,CAGOC,iBAHP,CAG2SP,OAH3S,CAGOO,iBAHP,CAG0BC,iBAH1B,CAG2SR,OAH3S,CAG0BQ,iBAH1B,CAG6CC,uBAH7C,CAG2ST,OAH3S,CAG6CS,uBAH7C,CAGsEC,uBAHtE,CAG2SV,OAH3S,CAGsEU,uBAHtE,CAG+FC,aAH/F,CAG2SX,OAH3S,CAG+FW,aAH/F,CAG8GC,cAH9G,CAG2SZ,OAH3S,CAG8GY,cAH9G,CAG8HC,aAH9H,CAG2Sb,OAH3S,CAG8Ha,aAH9H,CAG6IC,aAH7I,CAG2Sd,OAH3S,CAG6Ic,aAH7I,CAG4JC,kBAH5J,CAG2Sf,OAH3S,CAG4Je,kBAH5J,CAGgLC,kBAHhL,CAG2ShB,OAH3S,CAGgLgB,kBAHhL,CAGoMC,SAHpM,CAG2SjB,OAH3S,CAGoMiB,SAHpM,CAG+MC,SAH/M,CAG2SlB,OAH3S,CAG+MkB,SAH/M,CAG0NC,mBAH1N,CAG2SnB,OAH3S,CAG0NmB,mBAH1N,CAG+OC,WAH/O,CAG2SpB,OAH3S,CAG+OoB,WAH/O,CAG4PC,gBAH5P,CAG2SrB,OAH3S,CAG4PqB,gBAH5P,CAG8QC,UAH9Q,CAG2StB,OAH3S,CAG8QsB,UAH9Q,CAG0RC,YAH1R,CAG2SvB,OAH3S,CAG0RuB,YAH1R,gBAIYlC,QAAQ,CAAC,KAAD,CAJpB,yCAIrBmC,eAJqB,eAIJC,YAJI,8BAKgBpC,QAAQ,CAAC,KAAD,CALxB,yCAKrBqC,iBALqB,eAKFC,cALE,eAO5B,GAAMC,CAAAA,YAAY,CAAG,GAAIC,CAAAA,IAAJ,CAASxB,UAAU,CAACuB,YAApB,CAArB,CACA,GAAME,CAAAA,KAAK,CAAG,GAAID,CAAAA,IAAJ,CAASxB,UAAU,CAACyB,KAApB,CAAd,CACA,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,EAAZ,CACAD,KAAK,CAAC,CAAD,CAAL,CAAW,SAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,UAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,OAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,OAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,KAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,MAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,MAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,QAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,WAAX,CACAA,KAAK,CAAC,CAAD,CAAL,CAAW,SAAX,CACAA,KAAK,CAAC,EAAD,CAAL,CAAY,UAAZ,CACAA,KAAK,CAAC,EAAD,CAAL,CAAY,UAAZ,CACA,GAAIE,CAAAA,aAAa,CAAGF,KAAK,CAACH,YAAY,CAACM,QAAb,EAAD,CAAzB,CACA,GAAIC,CAAAA,UAAU,CAAGJ,KAAK,CAACD,KAAK,CAACI,QAAN,EAAD,CAAtB,CAIA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,SAAD,CAAe,CAChCA,SAAS,CAACC,GAAV,CAAc,SAACC,MAAD,CAAY,CACtB,MACI,+BAAQ,GAAG,CAAEA,MAAM,CAACC,YAApB,CAAkC,KAAK,CAAED,MAAM,CAACE,OAAhD,EAA0DF,MAAM,CAACG,IAAjE,CADJ,CAGH,CAJD,EAKH,CAND,CAQA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,MAAD,CAAY,CAC9B,OAAQA,MAAR,EACI,IAAK,UAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,uBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,wBAAyDvC,UAAU,CAACwC,UAApE,KAFJ,CADJ,CAMJ,IAAK,QAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,qBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,kBAFJ,CADJ,CAMJ,IAAK,WAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,wBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,qDAFJ,CADJ,CAMJ,IAAK,UAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,uBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,+BAFJ,CADJ,CAMJ,IAAK,QAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,qBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,2BAFJ,CADJ,CAOJ,IAAK,WAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,wBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,yBAFJ,CADJ,CAMJ,IAAK,QAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,qBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,kBAFJ,CADJ,CAMJ,IAAK,UAAL,CACI,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,wBAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,qBAFJ,CADJ,CAQJ,QACIC,OAAO,CAACC,GAAR,CAAY,cAAZ,EA7DR,CA+DH,CAhED,CAmEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAMvB,CAAAA,YAAY,CAAC,CAACD,eAAF,CAAlB,EAAzB,CACA,GAAMyB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,SAAMtB,CAAAA,cAAc,CAAC,CAACD,iBAAF,CAApB,EAA3B,CAEA,GAAMwB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,cAAD,CAAoB,CACvC,OAAQA,cAAR,EACI,IAAK,sBAAL,CACI,MAAO,iBAAP,CACJ,IAAK,wBAAL,CACI,MAAO,mBAAP,CACJ,IAAK,mBAAL,CACI,MAAO,cAAP,CACJ,QACI,MAAO,gBAAP,CARR,CAUH,CAXD,CAaA,MACI,qBAAC,KAAD,CAAO,QAAP,MACKjC,SAAS,CACN,2BAAK,SAAS,CAAC,+BAAf,EACI,2BAAK,SAAS,CAAC,aAAf,EACI,oBAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAC,SAFV,CAGI,MAAM,CAAE,GAHZ,CAII,KAAK,CAAE,GAJX,CAKI,OAAO,CAAE,IALb,EADJ,KADJ,CADM,CAaN,2BAAK,SAAS,CAAC,yBAAf,EAEQC,mBAAmB,CAAG,2BAAK,SAAS,CAAC,uBAAf,EAClB,2BAAK,SAAS,CAAC,4BAAf,EACI,oBAAC,MAAD,EACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAC,SAFV,CAGI,MAAM,CAAE,GAHZ,CAII,KAAK,CAAE,GAJX,CAKI,OAAO,CAAE,IALb,EADJ,CADkB,CAAH,CAWV,IAbjB,CAgBQhB,iBAAiB,GAAK,KAAtB,CACI,2BAAK,SAAS,CAAC,0BAAf,EACI,oBAAC,YAAD,EAAc,aAAa,CAAEC,aAA7B,EADJ,CADJ,CAIM,IApBd,CAoCI,2BAAK,SAAS,CAAC,4BAAf,EApCJ,CAuCI,2BAAK,SAAS,CAAC,iCAAf,EACI,2BAAK,SAAS,CAAC,qBAAf,EACI,2BAAK,SAAS,CAAC,gBAAf,EACI,2BAAK,SAAS,CAAC,oBAAf,EACI,2BAAK,GAAG,CAAEb,KAAV,CAAiB,GAAG,CAAC,iBAArB,EADJ,CADJ,CAII,2BAAK,SAAS,CAAC,iCAAf,gBAJJ,CADJ,CASI,2BAAK,SAAS,CAAC,yBAAf,EACI,2BAAK,SAAS,CAAC,6BAAf,EADJ,CAEI,2BAAK,SAAS,CAAC,0BAAf,EACI,yBAAG,SAAS,CAAC,aAAb,EACI,4BAAM,SAAS,CAAC,WAAhB,EACKqC,YAAY,CAACwB,MAAb,GAAwB,GAAxB,CAA8BnB,aADnC,CADJ,CADJ,CAMI,gCAAO5B,UAAU,CAACgD,WAAlB,CANJ,CAFJ,CAUI,2BAAK,SAAS,CAAC,qCAAf,EACI,kCAAMhD,UAAU,CAACiD,EAAjB,MAAuBjD,UAAU,CAACkD,OAAlC,CADJ,CAVJ,CATJ,CAwBQnC,WAAW,CAACkB,GAAZ,CAAgB,SAACkB,MAAD,CAAY,CACxB,GAAM1B,CAAAA,KAAK,CAAG,GAAID,CAAAA,IAAJ,CAAS2B,MAAM,CAAC5B,YAAhB,CAAd,CAEA,MAGI4B,CAAAA,MAAM,CAACF,EAAP,GAAcjD,UAAU,CAACiD,EAAzB,CAA8B,IAA9B,CACI,oBAAC,IAAD,EAAM,GAAG,CAAEE,MAAM,CAACF,EAAlB,CAAsB,EAAE,CAAE,eAAiBE,MAAM,CAACF,EAAlD,EACI,2BAAK,SAAS,CAAC,yBAAf,CAAyC,GAAG,CAAEE,MAAM,CAACF,EAArD,CAAyD,OAAO,CAAE,yBAAMjC,CAAAA,gBAAgB,CAACmC,MAAM,CAACF,EAAR,CAAtB,EAAlE,EAEI,2BAAK,SAAS,CAAC,0BAAf,EACI,yBAAG,SAAS,CAAC,aAAb,EACI,4BAAM,SAAS,CAAC,WAAhB,EACKxB,KAAK,CAAC2B,OAAN,GAAkB,GAAlB,EAAyB3B,KAAK,CAACI,QAAN,GAAmB,CAA5C,CADL,CADJ,CADJ,CAMI,gCAAOsB,MAAM,CAACH,WAAd,CANJ,CAFJ,CAUI,2BAAK,SAAS,CAAC,qCAAf,EACI,kCAAMG,MAAM,CAACF,EAAb,MAAmBE,MAAM,CAACD,OAA1B,CADJ,CAVJ,CADJ,CAJR,CAqBH,CAxBD,CAxBR,CADJ,CAqDI,2BAAK,SAAS,CAAC,sBAAf,EACI,2BAAK,SAAS,CAAC,8BAAf,EACI,2BAAK,SAAS,CAAC,8CAAf,EADJ,CAEI,kCAAMlD,UAAU,CAACgD,WAAjB,KAA8B,yBAAG,SAAS,CAAC,aAAb,EAA9B,CAFJ,CAGI,gCAAOhD,UAAU,CAACoC,OAAlB,CAHJ,CADJ,CAQI,2BAAK,SAAS,CAAC,kCAAf,EACI,2BAAK,SAAS,CAAC,0BAAf,EACI,8CADJ,CAEI,2BAAK,SAAS,CAAC,iBAAf,EAEI,8BAAQ,KAAK,CAAES,cAAc,CAAC7C,UAAU,CAACwC,UAAZ,CAA7B,CAAsD,QAAQ,CAAE,kBAACa,CAAD,CAAO,CAAEnD,iBAAiB,CAACmD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAiBvD,UAAU,CAACuC,MAA5B,CAAjB,CAAsD,CAA/H,EACK/B,aAAa,CACVA,aAAa,CAACyB,GAAd,CAAkB,SAACuB,KAAD,CAAW,CACzB,MACIA,CAAAA,KAAK,CAACpB,OAAN,GAAkB,wBAAlB,CAA6C,IAA7C,CACI,8BAAQ,GAAG,CAAEoB,KAAK,CAACpB,OAAnB,CAA4B,KAAK,CAAEoB,KAAK,CAACpB,OAAzC,EAAmDoB,KAAK,CAACnB,IAAzD,CAFR,CAIH,CALD,CADU,CAOR,IARV,CAFJ,CAFJ,CADJ,CAmBI,2BAAK,SAAS,CAAC,gBAAf,EACI,yCADJ,CAEI,8BAAQ,SAAS,CAAC,4BAAlB,CAA+C,KAAK,CAAErC,UAAU,CAACuC,MAAjE,CAAyE,QAAQ,CAAE,kBAACc,CAAD,CAAO,CAAElD,iBAAiB,CAACkD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,CAAmC,CAA/H,EAEQ3C,SAAS,CACLA,SAAS,CAACqB,GAAV,CAAc,SAACM,MAAD,CAAY,CACtB,MACIA,CAAAA,MAAM,CAACU,EAAP,GAAc,CAAd,EAAmBV,MAAM,CAACU,EAAP,GAAc,CAAjC,CAAqC,IAArC,CACI,8BAAQ,GAAG,CAAEV,MAAM,CAACU,EAApB,CAAwB,KAAK,CAAEV,MAAM,CAACA,MAAtC,EAA+CA,MAAM,CAACA,MAAtD,CAFR,CAIH,CALD,CADK,CAMA,IARjB,CAFJ,CAnBJ,CAsCI,2BAAK,SAAS,CAAC,qBAAf,EACI,8CADJ,CAEI,4BAAM,SAAS,CAAC,mBAAhB,EAAqCE,OAAO,CAACC,GAAR,CAAYjB,KAAK,CAAC2B,OAAN,EAAZ,CAArC,KAAoE3B,KAAK,CAACgC,UAAN,GAAqB,GAArB,CAA2B3B,UAA/F,CAFJ,CAtCJ,CA2CI,2BAAK,SAAS,CAAC,oCAAf,EACI,oDADJ,CA3CJ,CA+CI,2BAAK,SAAS,CAAC,+BAAf,EACI,4BAAM,SAAS,CAAC,UAAhB,aADJ,CAEI,4BAAM,SAAS,CAAC,WAAhB,EAA6B9B,UAAU,CAAC0D,QAAxC,CAFJ,CA/CJ,CAoDI,2BAAK,SAAS,CAAC,4BAAf,EACI,wCADJ,CAEI,4BAAM,SAAS,CAAC,YAAhB,cAFJ,CApDJ,CAyDI,2BAAK,SAAS,CAAC,iCAAf,EACI,4BAAM,SAAS,CAAC,UAAhB,eADJ,CAEI,gCAAO1D,UAAU,CAAC2D,UAAlB,CAFJ,CAzDJ,CA8DI,2BAAK,SAAS,CAAC,gCAAf,EACI,4BAAM,SAAS,CAAC,UAAhB,cADJ,CAEI,gCAAO3D,UAAU,CAAC4D,QAAlB,CAFJ,CA9DJ,CAoEI,2BAAK,SAAS,CAAC,sCAAf,EACI,kDADJ,CAEI,gCAAO5D,UAAU,CAAC6D,cAAlB,CAFJ,CApEJ,CAyEI,2BAAK,SAAS,CAAC,+BAAf,EACI,2CADJ,CAEI,gCAAO7D,UAAU,CAAC4D,QAAlB,CAFJ,CAzEJ,CA8EI,2BAAK,SAAS,CAAC,mCAAf,EACI,+CADJ,CA9EJ,CARJ,CArDJ,CAkJI,2BAAK,SAAS,CAAC,iCAAf,EACI,2BAAK,SAAS,CAAC,gCAAf,EACI,2BAAK,SAAS,CAAC,kBAAf,EACI,2BAAK,GAAG,CAAEzE,KAAV,CAAiB,GAAG,CAAC,mBAArB,CAAyC,KAAK,CAAC,MAA/C,CAAsD,MAAM,CAAC,MAA7D,EADJ,CADJ,CAII,2BAAK,SAAS,CAAC,iCAAf,EACI,2BAAK,SAAS,CAAC,wBAAf,EACI,2BAAK,SAAS,CAAC,2BAAf,EACI,6BAAI,IAAMa,UAAU,CAACiD,EAArB,KAA0BjD,UAAU,CAACkD,OAArC,CADJ,CADJ,CAII,2BAAK,SAAS,CAAC,4BAAf,EACI,2BAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAE3D,WAAlC,CAA+C,KAAK,CAAC,OAArD,CAA6D,GAAG,CAAC,cAAjE,CAAgF,KAAK,CAAC,MAAtF,CAA6F,MAAM,CAAC,MAApG,CAA2G,OAAO,CAAC,KAAnH,CAAyH,OAAO,CAAE,kBAAM,CAAEoD,gBAAgB,GAAIrB,cAAc,CAAC,KAAD,CAAd,CAAuB,CAArL,EADJ,CAGI,2BAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEjC,UAAjC,CAA6C,KAAK,CAAC,SAAnD,CAA6D,GAAG,CAAC,cAAjE,CAAgF,KAAK,CAAC,MAAtF,CAA6F,MAAM,CAAC,MAApG,CAA2G,OAAO,CAAE,kBAAM,CAAEuD,kBAAkB,GAAIxB,YAAY,CAAC,KAAD,CAAZ,CAAqB,CAAvK,EAHJ,CAJJ,CADJ,CAYI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,GAAG,CAAEhC,KAAV,CAAiB,GAAG,CAAC,iBAArB,CAAuC,KAAK,CAAC,MAA7C,CAAoD,MAAM,CAAC,MAA3D,EADJ,CAEI,6BAAIqC,KAAK,CAAC2B,OAAN,GAAkB,GAAlB,CAAwBxB,aAA5B,CAFJ,CAZJ,CAJJ,CADJ,CAuBI,2BAAK,SAAS,CAAC,gCAAf,EACI,2BAAK,SAAS,CAAC,sBAAf,CAAsC,OAAO,CAAE,yBAAM/B,CAAAA,SAAS,CAAC,iBAAD,CAAf,EAA/C,CAAmF,KAAK,CAAED,OAAO,GAAK,iBAAZ,CAAgC,CAAEkE,KAAK,CAAE,SAAT,CAAoBC,QAAQ,CAAE,MAA9B,CAAsCC,UAAU,CAAE,QAAlD,CAAhC,CAA+F,IAAzL,kBADJ,CAGI,2BAAK,SAAS,CAAC,wBAAf,CAAwC,OAAO,CAAE,yBAAMnE,CAAAA,SAAS,CAAC,eAAD,CAAf,EAAjD,CAAmF,KAAK,CAAED,OAAO,GAAK,eAAZ,CAA8B,CAAEkE,KAAK,CAAE,SAAT,CAAoBC,QAAQ,CAAE,MAA9B,CAAsCC,UAAU,CAAE,QAAlD,CAA9B,CAA6F,IAAvL,eAHJ,CAKI,2BAAK,SAAS,CAAC,oBAAf,CAAoC,OAAO,CAAE,yBAAMnE,CAAAA,SAAS,CAAC,eAAD,CAAf,EAA7C,gBALJ,CAOI,2BAAK,SAAS,CAAC,kBAAf,aAPJ,CAQI,2BAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAE,yBAAMA,CAAAA,SAAS,CAAC,YAAD,CAAf,EAA1C,CAAyE,KAAK,CAAED,OAAO,GAAK,YAAZ,CAA2B,CAAEkE,KAAK,CAAE,SAAT,CAAoBC,QAAQ,CAAE,MAA9B,CAAsCC,UAAU,CAAE,QAAlD,CAA3B,CAA0F,IAA1K,aARJ,CAvBJ,CAsCKpE,OAAO,GAAK,iBAAZ,CAAgC,oBAAC,KAAD,CAAO,QAAP,MAC7B,2BAAK,SAAS,CAAC,8BAAf,EACKuB,eAAe,GAAK,IAApB,CACG,oBAAC,KAAD,CAAO,QAAP,MACI,4BAAM,EAAE,CAAC,YAAT,CAAsB,QAAQ,CAAE,kBAACkC,CAAD,CAAO,CAAEA,CAAC,CAACY,cAAF,GAAoBtD,kBAAkB,CAAC,OAAD,CAAlB,CAA6BS,YAAY,GAAI,CAA1G,EACI,2BAAK,SAAS,CAAC,qBAAf,EACI,gCAAU,IAAI,CAAC,YAAf,CAA4B,EAAE,CAAC,OAA/B,CAAuC,QAAQ,CAAE,kBAACiC,CAAD,CAAO,CAAE3C,kBAAkB,CAAC2C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,CAAoC,CAA9F,CAAgG,IAAI,CAAC,IAArG,CAA0G,IAAI,CAAC,GAA/G,CAAmH,WAAW,CAAC,oFAA/H,EADJ,CAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,KAA3B,CAA4B,QAAQ,CAAE,kBAACF,CAAD,QAAOpC,CAAAA,UAAU,CAACoC,CAAD,CAAjB,EAAtC,EAFJ,CADJ,CAOI,2BAAK,KAAK,CAAC,iBAAX,EACI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,MAA3B,EADJ,CAEI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,OAAO,CAAEjC,YAAnC,WAFJ,CAPJ,CADJ,CADH,CAcuB,IAf5B,CAgBKC,iBAAiB,GAAK,IAAtB,CACG,oBAAC,KAAD,CAAO,QAAP,MACI,4BAAM,EAAE,CAAC,cAAT,CAAwB,QAAQ,CAAE,kBAACgC,CAAD,CAAO,CAAEA,CAAC,CAACY,cAAF,GAAoBtD,kBAAkB,CAAC,SAAD,CAAlB,CAA+BS,YAAY,GAAI,CAA9G,EACI,2BAAK,KAAK,CAAC,qBAAX,EACI,gCAAU,IAAI,CAAC,cAAf,CAA8B,EAAE,CAAC,OAAjC,CAAyC,QAAQ,CAAE,kBAACiC,CAAD,CAAO,CAAE3C,kBAAkB,CAAC2C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,CAAoC,CAAhG,CAAkG,IAAI,CAAC,IAAvG,CAA4G,IAAI,CAAC,GAAjH,CAAqH,WAAW,CAAC,0FAAjI,EADJ,CADJ,CAII,2BAAK,KAAK,CAAC,iBAAX,EACI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,MAA3B,EADJ,CAEI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,OAAO,CAAEjC,cAAnC,WAFJ,CAJJ,CADJ,CADH,CAWuB,IA3B5B,CA6BI,2BAAK,SAAS,CAAC,cAAf,EAEI,yBAAG,SAAS,CAAC,kBAAb,EAAiCtB,UAAU,CAACoC,OAA5C,KAAqD,4BAAM,SAAS,CAAC,sBAAhB,EAAwCb,YAAY,CAACwB,MAAb,GAAwB,GAAxB,CAA8BnB,aAAtE,KAArD,CAFJ,KAE4J,8BAF5J,CAGI,yBAAG,SAAS,CAAC,oBAAb,EAAmC5B,UAAU,CAACkE,WAA9C,CAHJ,CA7BJ,CAkCI,2BAAK,SAAS,CAAC,wBAAf,EAEQjE,aAAa,CAAGA,aAAa,CAACgC,GAAd,CAAkB,SAACkC,KAAD,CAAW,CACzC,GAAMC,CAAAA,cAAc,CAAG,GAAI5C,CAAAA,IAAJ,CAAS2C,KAAK,CAACE,SAAf,CAAvB,CAEA,MACI,4BAAK,SAAS,CAAC,0BAAf,CAA0C,GAAG,CAAEF,KAAK,CAAClB,EAArD,EACI,2BAAK,SAAS,CAAC,uBAAf,EACI,2BAAK,SAAS,CAAC,iBAAf,EADJ,CAEI,4BAAM,SAAS,CAAC,yBAAhB,MAA4CmB,cAAc,CAACE,QAAf,EAA5C,OAA0EF,cAAc,CAACG,UAAf,EAA1E,MAAyGH,cAAc,CAAChB,OAAf,EAAzG,KAFJ,CADJ,CAKI,2BAAK,SAAS,CAAC,oBAAf,EAAqCe,KAAK,CAACK,IAA3C,CALJ,CADJ,CASH,CAZe,CAAH,CAaP,qDAfd,CAlCJ,CAD6B,CAAhC,CAsDmB,IA5FxB,CA+FK5E,OAAO,GAAK,eAAZ,CAA8BI,UAAU,CAACyE,UAAX,CAAwB,oBAAC,KAAD,CAAO,QAAP,MACnD,2BAAK,SAAS,CAAC,iBAAf,EACKzE,UAAU,CAACyE,UADhB,CADmD,CAAxB,CAIX,oBAAC,KAAD,CAAO,QAAP,MACZ,2BAAK,SAAS,CAAC,oBAAf,EACI,4BAAM,EAAE,CAAC,iBAAT,CAA2B,QAAQ,CAAEpE,uBAArC,EACI,gCAAU,IAAI,CAAC,iBAAf,CAAiC,IAAI,CAAC,GAAtC,CAA0C,IAAI,CAAC,IAA/C,CAAoD,WAAW,CAAC,8BAAhE,CAA+F,QAAQ,CAAE,kBAACgD,CAAD,CAAO,CAAEjD,uBAAuB,CAACiD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,CAAyC,CAA3J,EADJ,CAEI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,CAAE,yBAAMhD,CAAAA,cAAc,CAAGR,aAAa,CAAC,KAAD,CAAhB,CAA0B,IAA9C,EAA9B,CAAkF,KAAK,CAAC,MAAxF,EAFJ,CADJ,CADY,CAJnB,CAYuB,IA3G5B,CA6GQH,OAAO,GAAK,YAAZ,CACIa,aAAa,CACT,oBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,mBAAf,EACKA,aAAa,CAACwB,GAAd,CAAmB,SAACyC,MAAD,CAAY,CAC5B,MAEI,4BAAK,SAAS,CAAC,2BAAf,CAA2C,GAAG,CAAEA,MAAM,CAACzB,EAAvD,EACI,2BAAK,SAAS,CAAC,sBAAf,EADJ,CAKQX,aAAa,CAACoC,MAAM,CAACnC,MAAR,CALrB,CAOI,2BAAK,SAAS,CAAC,kBAAf,EAPJ,CAFJ,CAYH,CAbA,CADL,CADJ,CADS,CAkBW,+DAnB5B,CAoBM,IAjId,CAoIQ3C,OAAO,GAAK,eAAZ,CACI,yBAAG,IAAI,CAAC,+FAAR,CAAwG,QAAQ,KAAhH,aADJ,CAEM,IAtId,CAlJJ,CAvCJ,CAdR,CADJ,CAwWH,CA9dD,CAieA,cAAeF,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport Loader from 'react-loader-spinner';\n// import TikcetListNav from './TicketListNav';\nimport arrow from '../images/arrow.png';\nimport globe from '../images/globe.png';\nimport clock from '../images/stopwatch.png';\nimport orangeChat from '../images/message.png';\nimport { Link } from 'react-router-dom';\nimport orangeReply from '../images/orange-reply.png';\nimport { fireEvent } from '@testing-library/react';\nimport FeedBackView from './feedBackView';\n\n\nconst TicketView = (payload) => {\n    const [display, isVisible] = useState('id_conversation');\n    const [ticketStatusPopup, shouldDisplay] = useState('no');\n    const { ticketData, ticketReplies, changeSelectValue, changeStatusValue, resolutionChangeHandler, resolutionSubmitHandler, statusHandler, resolutionText, allAdminUsers, ticketJourney, replyChangeHandler, replySubmitHandler, allStatus, isLoading, statusChangeLoading, listingData, updateTicketData, fileSelect, downloadFile } = payload;\n    const [displayreplybox, showreplybox] = useState(false);\n    const [displaycommentbox, showcommentbox] = useState(false);\n\n    const creationTime = new Date(ticketData.creationTime);\n    const dueOn = new Date(ticketData.dueOn)\n    var month = new Array();\n    month[0] = \"January\";\n    month[1] = \"February\";\n    month[2] = \"March\";\n    month[3] = \"April\";\n    month[4] = \"May\";\n    month[5] = \"June\";\n    month[6] = \"July\";\n    month[7] = \"August\";\n    month[8] = \"September\";\n    month[9] = \"October\";\n    month[10] = \"November\";\n    month[11] = \"December\";\n    var creationMonth = month[creationTime.getMonth()];\n    var dueOnMonth = month[dueOn.getMonth()];\n\n\n\n    const selectMapper = (mapValues) => {\n        mapValues.map((option) => {\n            return (\n                <option key={option.departmentId} value={option.emailId}>{option.name}</option>\n            )\n        })\n    }\n\n    const switchChanges = (status) => {\n        switch (status) {\n            case \"ASSIGNED\":\n                return (\n                    <React.Fragment>\n                        <div className=\"assigned-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Ticket Assigned to {ticketData.assignedTo} </div>\n                    </React.Fragment>\n                )\n            case \"RAISED\":\n                return (\n                    <React.Fragment>\n                        <div className=\"raised-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Ticket Raised</div>\n                    </React.Fragment>\n                )\n            case \"RESOLVING\":\n                return (\n                    <React.Fragment>\n                        <div className=\"resolving-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Someone is working on resolution of your ticket </div>\n                    </React.Fragment>\n                )\n            case \"AWAITING\":\n                return (\n                    <React.Fragment>\n                        <div className=\"awaiting-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Awaiting for your response</div>\n                    </React.Fragment>\n                )\n            case \"REVIEW\":\n                return (\n                    <React.Fragment>\n                        <div className=\"review-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Ticket is under Review</div>\n                    </React.Fragment>\n                )\n\n            case \"ESCALATED\":\n                return (\n                    <React.Fragment>\n                        <div className=\"escalated-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Ticket has escalated</div>\n                    </React.Fragment>\n                )\n            case \"CLOSED\":\n                return (\n                    <React.Fragment>\n                        <div className=\"closed-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Ticket Closed</div>\n                    </React.Fragment>\n                )\n            case \"REOPENED\":\n                return (\n                    <React.Fragment>\n                        <div className=\"re-opened-icon-wrapper\"></div>\n                        <div className=\"change-text-wrapper\">Ticket Re-opened</div>\n                    </React.Fragment>\n                )\n\n\n            default:\n                console.log(\"nothing here\")\n        }\n    }\n\n\n    const showhidereplybox = () => showreplybox(!displayreplybox);\n    const showhidecommentbox = () => showcommentbox(!displaycommentbox);\n\n    const assignedFinder = (assignedPerson) => {\n        switch (assignedPerson) {\n            case \"admin default person\":\n                return \"admin@xebia.com\"\n            case \"finance default person\":\n                return \"finance@xebia.com\"\n            case \"hr default person\":\n                return \"hr@xebia.com\"\n            default:\n                return \"none@xebia.com\"\n        }\n    }\n\n    return (\n        <React.Fragment>\n            {isLoading ?\n                <div className=\"ticket-details-loader-wrapper\">\n                    <div className=\"loader-icon\">\n                        <Loader\n                            type=\"Oval\"\n                            color=\"#9D92B2\"\n                            height={100}\n                            width={100}\n                            timeout={7000}\n\n                        /> </div>\n                </div> :\n\n                <div className=\"TicketDetails-container\" >\n                    {\n                        statusChangeLoading ? <div className=\"status-loader-wrapper\">\n                            <div className=\"status-loader-icon-wrapper\">\n                                <Loader\n                                    type=\"Oval\"\n                                    color=\"#9D92B2\"\n                                    height={100}\n                                    width={100}\n                                    timeout={7000}\n\n                                />\n                            </div>\n                        </div> : null\n                    }\n                    {\n                        ticketStatusPopup === 'yes' ?\n                            <div className=\"popup-background-wrapper\">\n                                <FeedBackView shouldDisplay={shouldDisplay} />\n                            </div>\n                            : null\n                    }\n                    {/* {ticketStatusPopup === 'yes' ?\n                        <div className=\"popup-background-wrapper\">\n                            <div className=\"status-popup-wrapper\">\n                                <div className=\"close-wrapper\">\n                                    [X]\n                         </div>\n                                <p>Do you want to close the ticket?</p>\n                                <div className=\"buttons-wrapper\">\n                                    <button type=\"submit\" onClick={() => { statusHandler(); shouldDisplay('no') }}>Yes</button>\n                                    <button type=\"submit\" onClick={() => { shouldDisplay('no') }}>No</button>\n                                </div>\n                            </div>\n                        </div>\n                        : null} */}\n                    <div className=\"ticket-details-nav-wrapper\">\n                        {/* <TikcetListNav /> */}\n                    </div>\n                    <div className=\"ticket-details-bottom-container\">\n                        <div className=\"all-tickets-wrapper\">\n                            <div className=\"header-wrapper\">\n                                <div className=\"back-arrow-wrapper\">\n                                    <img src={arrow} alt=\"back arrow here\" />\n                                </div>\n                                <div className=\"all-tickets-header-text-wrapper\">\n                                    All Tickets\n                        </div>\n                            </div>\n                            <div className=\"ticket-snapshot-wrapper\">\n                                <div className=\"ticket-snapshot-left-border\"></div>\n                                <div className=\"snapshot-heading-wrapper\">\n                                    <i className=\"fa fa-globe\">\n                                        <span className=\"date-text\">\n                                            {creationTime.getDay() + ' ' + creationMonth}\n                                        </span>\n                                    </i>\n                                    <span>{ticketData.displayName}</span>\n                                </div>\n                                <div className=\"ticket-snapshot-information-wrapper\">\n                                    <p> #{ticketData.id}  {ticketData.subject}</p>\n                                </div>\n                            </div>\n                            {\n                                listingData.map((ticket) => {\n                                    const dueOn = new Date(ticket.creationTime);\n\n                                    return (\n\n\n                                        ticket.id === ticketData.id ? null :\n                                            <Link key={ticket.id} to={'/ticketlist/' + ticket.id}>\n                                                <div className=\"ticket-snapshot-wrapper\" key={ticket.id} onClick={() => updateTicketData(ticket.id)}>\n\n                                                    <div className=\"snapshot-heading-wrapper\">\n                                                        <i className=\"fa fa-globe\">\n                                                            <span className=\"date-text\">\n                                                                {dueOn.getDate() + '/' + (dueOn.getMonth() + 1)}\n                                                            </span>\n                                                        </i>\n                                                        <span>{ticket.displayName}</span>\n                                                    </div>\n                                                    <div className=\"ticket-snapshot-information-wrapper\">\n                                                        <p> #{ticket.id}  {ticket.subject}</p>\n                                                    </div>\n                                                </div>\n                                            </Link>\n                                    )\n                                })\n                            }\n\n                        </div>\n                        <div className=\"ticket-brief-wrapper\">\n                            <div className=\"ticket-brief-heading-wrapper\">\n                                <div className=\"ticket-brief-heading-horizontal-line-wrapper\"></div>\n                                <h3> {ticketData.displayName} <i className=\"fa fa-globe\"></i></h3>\n                                <span>{ticketData.emailId}</span>\n\n                            </div>\n\n                            <div className=\"ticket-brief-information-wrapper\">\n                                <div className=\"assigned-officer-wrapper\">\n                                    <span>Assigned To</span>\n                                    <div className=\"profile-wrapper\">\n\n                                        <select value={assignedFinder(ticketData.assignedTo)} onChange={(e) => { changeSelectValue(e.target.value, ticketData.status) }}>\n                                            {allAdminUsers ?\n                                                allAdminUsers.map((admin) => {\n                                                    return (\n                                                        admin.emailId === \"rajat.sharma@xebia.com\" ? null :\n                                                            <option key={admin.emailId} value={admin.emailId}>{admin.name}</option>\n                                                    )\n                                                })\n                                                : null}\n                                        </select>\n                                        {/* <span>{ticketData.assignedTo}</span>     */}\n                                    </div>\n                                </div>\n\n                                <div className=\"status-wrapper\">\n                                    <span>Status</span>\n                                    <select className=\"ticket-brief-status-select\" value={ticketData.status} onChange={(e) => { changeStatusValue(e.target.value) }}>\n                                        {\n                                            allStatus ?\n                                                allStatus.map((status) => {\n                                                    return (\n                                                        status.id === 6 || status.id === 2 ? null :\n                                                            <option key={status.id} value={status.status}>{status.status}</option>\n                                                    )\n                                                }) : null\n                                        }\n\n                                        {/* <option value=\"OPEN\">OPEN</option>\n                                <option value=\"CLOSED\">CLOSED</option> */}\n                                    </select>\n                                    {/* <span>{ticketData.status}</span> */}\n                                </div>\n\n                                <div className=\"closed-time-wrapper\">\n                                    <span>Closed Time</span>\n                                    <span className=\"date-time-wrapper\">{console.log(dueOn.getDate())} {dueOn.getUTCDate() + ' ' + dueOnMonth}</span>\n                                </div>\n\n                                <div className=\"ticket-information-heading-wrapper\">\n                                    <h4> Ticket Information</h4>\n                                </div>\n\n                                <div className=\"ticket-brief-location-wrapper\">\n                                    <span className=\"red-text\">Location</span>\n                                    <span className=\"city-text\">{ticketData.location}</span>\n                                </div>\n\n                                <div className=\"ticket-brief-phone-wrapper\">\n                                    <span>Phone</span>\n                                    <span className=\"phone-text\">Phone No.</span>\n                                </div>\n\n                                <div className=\"ticket-brief-department-wrapper\">\n                                    <span className=\"red-text\">Department</span>\n                                    <span>{ticketData.department}</span>\n                                </div>\n\n                                <div className=\"ticket-brief-sub-issue-wrapper\">\n                                    <span className=\"red-text\">Sub Issue</span>\n                                    <span>{ticketData.subIssue}</span>\n\n                                </div>\n\n                                <div className=\"ticket-brief-classifications-wrapper\">\n                                    <span>Classifications</span>\n                                    <span>{ticketData.classification}</span>\n                                </div>\n\n                                <div className=\"ticket-brief-priority-wrapper\">\n                                    <span>Priority</span>\n                                    <span>{ticketData.subIssue}</span>\n                                </div>\n\n                                <div className=\"ticket-brief-product-name-wrapper\">\n                                    <span>Product Name</span>\n                                </div>\n\n                            </div>\n\n                        </div>\n                        <div className=\"selected-ticket-details-wrapper\">\n                            <div className=\"selected-ticket-header-wrapper\">\n                                <div className=\"web-icon-wrapper\">\n                                    <img src={globe} alt=\"nothing much here\" width=\"30px\" height=\"30px\" />\n                                </div>\n                                <div className=\"selected-ticket-heading-wrapper\">\n                                    <div className=\"id-and-subject-wrapper\">\n                                        <div className=\"subject-left-side-wrapper\">\n                                            <p>{'#' + ticketData.id} {ticketData.subject}</p>\n                                        </div>\n                                        <div className=\"subject-right-side-wrapper\">\n                                            <img className=\"reply-image\" src={orangeReply} title=\"Reply\" alt=\"nothing here\" width=\"30px\" height=\"30px\" tooltip=\"hey\" onClick={() => { showhidereplybox(); showcommentbox(false) }} />\n                                            {/* <Link to={'/ticketlist/' + ticketData.id}> */}\n                                            <img className=\"chat-image\" src={orangeChat} title=\"Comment\" alt=\"nothing here\" width=\"30px\" height=\"30px\" onClick={() => { showhidecommentbox(); showreplybox(false) }} />\n                                            {/* </Link> */}\n                                        </div>\n                                    </div>\n                                    <div className=\"time-wrapper\">\n                                        <img src={clock} alt=\"clock icon here\" width=\"15px\" height=\"15px\" />\n                                        <p>{dueOn.getDate() + ' ' + creationMonth}</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"ticket-details-sub-nav-wrapper\">\n                                <div className=\"conversation-wrapper\" onClick={() => isVisible('id_conversation')} style={display === 'id_conversation' ? { color: \"#06A99C\", fontSize: \"11px\", fontWeight: \"bolder\" } : null}> Conversation</div>\n\n                                <div className=\"resolution-nav-wrapper\" onClick={() => isVisible('id_resolution')} style={display === 'id_resolution' ? { color: '#06A99C', fontSize: \"11px\", fontWeight: \"bolder\" } : null}>resolution</div>\n\n                                <div className=\"attachment-wrapper\" onClick={() => isVisible('id_attachment')} > attachment</div>\n\n                                <div className=\"approval-wrapper\">approval</div>\n                                <div className=\"history-wrapper\" onClick={() => isVisible('id_history')} style={display === 'id_history' ? { color: '#06A99C', fontSize: \"11px\", fontWeight: \"bolder\" } : null} > history</div>\n                            </div>\n\n                            {/* <form>\n                            <textarea rows=\"10\" cols=\"50\"></textarea>\n                            <button>submit</button>\n                        </form> */}\n                            {display === 'id_conversation' ? <React.Fragment>\n                                <div className=\"total-ticket-details-wrapper\">\n                                    {displayreplybox === true ?\n                                        <React.Fragment>\n                                            <form id=\"reply-form\" onSubmit={(e) => { e.preventDefault(); replySubmitHandler(\"reply\"); showreplybox() }}>\n                                                <div className=\"comment-box-wrapper\">\n                                                    <textarea form=\"reply-form\" id=\"reply\" onChange={(e) => { replyChangeHandler(e.target.value) }} cols=\"82\" rows=\"8\" placeholder=\"Please add a reply.Note: This will send an email to the user who raised the ticket\"></textarea>\n                                                    <input type=\"file\" multiple onChange={(e) => fileSelect(e)} />\n                                                </div>\n\n\n                                                <div class=\"buttons-wrapper\">\n                                                    <input type=\"submit\" value=\"Send\" ></input>\n                                                    <button id=\"cancel-reply\" onClick={showreplybox}>Cancel</button>\n                                                </div>\n                                            </form>\n                                        </React.Fragment> : null}\n                                    {displaycommentbox === true ?\n                                        <React.Fragment>\n                                            <form id=\"comment-form\" onSubmit={(e) => { e.preventDefault(); replySubmitHandler(\"comment\"); showreplybox() }}>\n                                                <div class=\"comment-box-wrapper\">\n                                                    <textarea form=\"comment-form\" id=\"reply\" onChange={(e) => { replyChangeHandler(e.target.value) }} cols=\"82\" rows=\"8\" placeholder=\"Please add a comment.Note: This will NOT send an email to the user who raised the ticket\"></textarea>\n                                                </div>\n                                                <div class=\"buttons-wrapper\">\n                                                    <input type=\"submit\" value=\"Send\" ></input>\n                                                    <button id=\"cancel-reply\" onClick={showcommentbox}>Cancel</button>\n                                                </div>\n                                            </form>\n                                        </React.Fragment> : null}\n\n                                    <div className=\"name-wrapper\">\n\n                                        <p className=\"username-wrapper\">{ticketData.emailId} <span className=\"details-date-wrapper\">{creationTime.getDay() + ' ' + creationMonth} {}</span></p> <br />\n                                        <p className=\"ticket-description\">{ticketData.description}</p>\n                                    </div>\n                                    <div className=\"ticket-replies-wrapper\">\n                                        {\n                                            ticketReplies ? ticketReplies.map((reply) => {\n                                                const replyCreatedOn = new Date(reply.createdOn);\n\n                                                return (\n                                                    <div className=\"individual-reply-wrapper\" key={reply.id}>\n                                                        <div className=\"reply-heading-wrapper\">\n                                                            <div className=\"profile-wrapper\"></div>\n                                                            <span className=\"reply-createdOn-wrapper\"> {replyCreatedOn.getHours()} : {replyCreatedOn.getMinutes()} ,{replyCreatedOn.getDate()} </span>\n                                                        </div>\n                                                        <div className=\"reply-text-wrapper\">{reply.text}</div>\n                                                    </div>\n                                                )\n                                            })\n                                                : <p> NO activity here yet</p>\n                                        }\n                                    </div>\n                                </div>\n                            </React.Fragment> : null}\n\n\n                            {display === 'id_resolution' ? ticketData.resolution ? <React.Fragment>\n                                <div className=\"resolution-text\">\n                                    {ticketData.resolution}\n                                </div>\n                            </React.Fragment> : <React.Fragment>\n                                    <div className=\"resolution-wrapper\">\n                                        <form id=\"resolution-form\" onSubmit={resolutionSubmitHandler}>\n                                            <textarea form=\"resolution-form\" rows=\"7\" cols=\"88\" placeholder=\"Enter the resolution here...\" onChange={(e) => { resolutionChangeHandler(e.target.value) }}></textarea>\n                                            <input type=\"submit\" onClick={() => resolutionText ? shouldDisplay('yes') : null} value=\"Send\" />\n                                        </form>\n\n                                    </div>\n                                </React.Fragment> : null}\n                            {\n                                display === 'id_history' ?\n                                    ticketJourney ?\n                                        <React.Fragment>\n                                            <div className=\"history-container\">\n                                                {ticketJourney.map(((change) => {\n                                                    return (\n\n                                                        <div className=\"individual-change-wrapper\" key={change.id} >\n                                                            <div className=\"top-right-corner-dot\"></div>\n\n                                                            {\n\n                                                                switchChanges(change.status)\n                                                            }\n                                                            <div className=\"change-connector\"></div>\n                                                        </div>\n                                                    )\n                                                }))}\n                                            </div>\n                                        </React.Fragment> : <p> NO history of the ticket found</p>\n                                    : null\n                            }\n                            {\n                                display === 'id_attachment' ?\n                                    <a href=\"/home/ec2-user/helpdesk_deploy/UPLOAD/3/Screenshot from 2020-05-22 12-06-33.jpg_1590465234624\" download>Download</a>\n                                    : null\n\n                            }\n\n                            {/* <div className=\"replies-wrapper\">\n                            <h1>Replies</h1>\n\n                            {ticketReplies ?\n                                ticketReplies.map((reply) => {\n\n                                    return (\n                                        <div className=\"reply-wrapper\" key={reply.id}>\n                                            {reply.text}\n                                        </div>\n                                    )\n                                })\n                                : console.log('nothing here')}\n                        </div> */}\n\n                        </div>\n\n                    </div>\n                </div >}\n        </React.Fragment >\n    )\n\n}\n\n\nexport default TicketView;"]},"metadata":{},"sourceType":"module"}