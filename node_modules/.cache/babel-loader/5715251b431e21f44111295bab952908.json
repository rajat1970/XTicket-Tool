{"ast":null,"code":"import _objectSpread from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import TicketListNav from'../Views/sidebarView';import AddTicket from'../Views/addTicket';import{constants}from'../modules/constants';import{fetch}from'../modules/httpServices';var Tickets=/*#__PURE__*/function(_Component){_inherits(Tickets,_Component);function Tickets(props){var _this;_classCallCheck(this,Tickets);_this=_possibleConstructorReturn(this,_getPrototypeOf(Tickets).call(this,props));_this.onChangeHandler=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmitHandler=function(e){e.preventDefault();var _this$state=_this.state,selectedLocation=_this$state.selectedLocation,selectedDepartment=_this$state.selectedDepartment,selectedClassification=_this$state.selectedClassification,selectedSubIssue=_this$state.selectedSubIssue,subject=_this$state.subject,description=_this$state.description;fetch.post({url:constants.SERVICE_URLS.TICKET_ADD,requestBody:{\"locationId\":selectedLocation,\"departmentId\":selectedDepartment,\"subIssueId\":selectedSubIssue,\"classificationId\":selectedClassification,\"subject\":subject,\"description\":description},callbackHandler:function callbackHandler(response){console.log(response);_this.props.history.push('/ticketlist');}});};_this.state={all_locations:null,all_departments:null,all_classifications:null,selectedLocation:null,selectedDepartment:null,selectedClassification:null,selectedSubIssue:null,subject:\"\",description:\"\"};return _this;}_createClass(Tickets,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch.get({url:constants.SERVICE_URLS.TICKET_MASTER_DATA+'locations',callbackHandler:function callbackHandler(response){_this2.setState({all_locations:response.payload.data});}});fetch.get({url:constants.SERVICE_URLS.TICKET_MASTER_DATA+'departments',callbackHandler:function callbackHandler(response){_this2.setState({all_departments:response.payload.result});}});fetch.get({url:constants.SERVICE_URLS.TICKET_MASTER_DATA+'classifications',callbackHandler:function callbackHandler(response){_this2.setState({all_classifications:response.payload.data});}});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"add-tickets-wrapper\"},React.createElement(AddTicket,_objectSpread({},this.state,{onChangeHandler:this.onChangeHandler,onSubmitHandler:this.onSubmitHandler})));}}]);return Tickets;}(Component);export default Tickets;","map":{"version":3,"sources":["/home/rajatrajivsharma/Desktop/Web Develpoment/XYZ/XTicket-Tool/src/Components/Tickets.js"],"names":["React","Component","TicketListNav","AddTicket","constants","fetch","Tickets","props","onChangeHandler","e","setState","target","id","value","onSubmitHandler","preventDefault","state","selectedLocation","selectedDepartment","selectedClassification","selectedSubIssue","subject","description","post","url","SERVICE_URLS","TICKET_ADD","requestBody","callbackHandler","response","console","log","history","push","all_locations","all_departments","all_classifications","get","TICKET_MASTER_DATA","payload","data","result"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TicketListNav from '../Views/sidebarView';\nimport AddTicket from '../Views/addTicket';\nimport { constants } from '../modules/constants';\nimport { fetch } from '../modules/httpServices';\n\nclass Tickets extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            all_locations: null,\n            all_departments: null,\n            all_classifications: null,\n            selectedLocation: null,\n            selectedDepartment: null,\n            selectedClassification: null,\n            selectedSubIssue: null,\n            subject: \"\",\n            description: \"\"\n        }\n    }\n    componentDidMount() {\n        fetch.get({\n            url: constants.SERVICE_URLS.TICKET_MASTER_DATA + 'locations',\n            callbackHandler: (response) => {\n                this.setState({ all_locations: response.payload.data })\n            }\n        })\n\n        fetch.get({\n            url: constants.SERVICE_URLS.TICKET_MASTER_DATA + 'departments',\n            callbackHandler: (response) => {\n                this.setState({ all_departments: response.payload.result });\n            }\n        })\n\n        fetch.get({\n            url: constants.SERVICE_URLS.TICKET_MASTER_DATA + 'classifications',\n            callbackHandler: (response) => {\n                this.setState({ all_classifications: response.payload.data });\n            }\n        })\n\n    }\n\n    onChangeHandler = (e) => {\n        this.setState({ [e.target.id]: e.target.value });\n    }\n\n    onSubmitHandler = (e) => {\n        e.preventDefault();\n        const { selectedLocation, selectedDepartment, selectedClassification, selectedSubIssue, subject, description } = this.state\n        fetch.post({\n            url: constants.SERVICE_URLS.TICKET_ADD,\n            requestBody: {\n                \"locationId\": selectedLocation,\n                \"departmentId\": selectedDepartment,\n                \"subIssueId\": selectedSubIssue,\n                \"classificationId\": selectedClassification,\n                \"subject\": subject,\n                \"description\": description\n            },\n            callbackHandler: (response) => {\n                console.log(response)\n                this.props.history.push('/ticketlist')\n            }\n        })\n    }\n    render() {\n        return (\n            <div className=\"add-tickets-wrapper\">\n                {/* <TicketListNav /> */}\n                <AddTicket\n                    {...{\n                        ...this.state,\n                        onChangeHandler: this.onChangeHandler,\n                        onSubmitHandler: this.onSubmitHandler\n                    }} />\n            </div>\n\n        )\n    }\n}\n\nexport default Tickets;"]},"metadata":{},"sourceType":"module"}